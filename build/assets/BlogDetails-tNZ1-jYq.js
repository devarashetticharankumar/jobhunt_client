import{j as e,I as L,l as D,r as l,L as x,H as A,m as B,C as F,D as I,B as R,R as C,A as j}from"./index-Dc3DlMvd.js";import{I as i}from"./InArticleAd-BdgRI0ZF.js";import{I as E}from"./InFeedAd-BalgT6gJ.js";import{A as T}from"./AdPopup-C4yzW8it.js";import{S as f}from"./SkeletonLoading-DORIwaa_.js";const $=({blogTitle:r})=>{const s=window.location.href;return e.jsx("div",{children:e.jsx("button",{className:"p-3 bg-blue-600 hover:bg-blue-800 text-white rounded-full shadow-md transform transition-all hover:scale-110",onClick:()=>{navigator.share?navigator.share({title:`Check out this blog: ${r}`,text:"Found an interesting blog on JobNirvana!",url:s}).then(()=>console.log("Shared successfully")).catch(c=>console.error("Error sharing:",c)):alert("Sharing not supported on this browser.")},children:e.jsx(L,{size:24})})})},M=()=>{var p,u;const{slug:r}=D(),[s,c]=l.useState(null),[w,v]=l.useState([]),[m,h]=l.useState(""),[N,g]=l.useState(!0),[y,b]=l.useState(!0);return l.useEffect(()=>{const t=async()=>{try{const a=await fetch(`${j}/blogs/blog/${r}`),n=await a.json();a.ok?(c(n),g(!1)):h(n.message||"Blog not found")}catch{h("Error fetching blog"),g(!1)}},o=async()=>{try{const a=await fetch(`${j}/blogs/all-blogs`),n=await a.json();if(a.ok){const k=n.sort((d,S)=>new Date(S.publishedDate)-new Date(d.publishedDate)).filter(d=>d.slug!==r).slice(0,6);v(k),b(!1)}}catch(a){console.error("Error fetching latest blogs",a),b(!1)}};t(),o(),window.scrollTo(0,0)},[r]),m?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-4",children:m}),e.jsx(x,{to:"/blogs",className:"text-blue-600 font-bold hover:underline",children:"Return to Blogs"})]})}):e.jsxs("div",{className:"bg-[#F8F9FA] min-h-screen pb-12",children:[e.jsx(A,{children:s&&e.jsxs(e.Fragment,{children:[e.jsxs("title",{children:[s.title," | JobNirvana Blog"]}),e.jsx("meta",{name:"description",content:(p=s.content)==null?void 0:p.slice(0,160).replace(/<[^>]*>?/gm,"")}),e.jsx("meta",{property:"og:title",content:s.title}),e.jsx("meta",{property:"og:image",content:s.thumbnail}),e.jsx("link",{rel:"canonical",href:window.location.href})]})}),e.jsx("div",{className:"max-w-[1240px] mx-auto px-4 lg:pt-12 pt-6",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-12 gap-10 items-start",children:[e.jsx("div",{className:"col-span-12 lg:col-span-8",children:N?e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:e.jsx(f,{})}):s&&e.jsxs(B.article,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"relative h-[300px] md:h-[450px]",children:[e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/20 to-transparent"}),e.jsxs("div",{className:"absolute bottom-8 left-8 right-8",children:[e.jsx("span",{className:"px-3 py-1 bg-blue-600 text-white text-[10px] font-extrabold rounded-full uppercase tracking-widest mb-4 inline-block shadow-xl",children:s.category}),e.jsx("h1",{className:"text-3xl md:text-4xl lg:text-5xl font-extrabold text-white leading-tight drop-shadow-md",children:s.title})]})]}),e.jsxs("div",{className:"p-6 md:p-10",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-6 pb-8 border-b border-gray-100 mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 rounded-full bg-blue-50 flex items-center justify-center text-blue-600 font-bold text-xl uppercase border border-blue-100",children:((u=s.author)==null?void 0:u[0])||e.jsx(F,{className:"text-sm"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-gray-900",children:s.author||"JobNirvana Team"}),e.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-400 mt-1",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(I,{})," ",new Date(s.publishedDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(R,{})," 6 min read"]})]})]})]}),e.jsx($,{blogTitle:s.title})]}),e.jsx("div",{className:"mb-10",children:e.jsx(i,{})}),e.jsx("div",{className:"prose prose-lg prose-blue max-w-none text-gray-700 leading-relaxed ql-editor",children:(()=>{const t=s.content.split(/<\/p>/);return t.map((o,a)=>e.jsxs(C.Fragment,{children:[e.jsx("div",{dangerouslySetInnerHTML:{__html:`${o}</p>`}}),(a+1)%5===0&&a<t.length-1&&e.jsxs("div",{className:"my-10 py-4 border-y border-gray-50 flex flex-col items-center",children:[e.jsx("span",{className:"text-[10px] text-gray-300 uppercase font-bold tracking-widest mb-4",children:"Recommended Content"}),e.jsx(i,{})]})]},a))})()}),s.tags&&s.tags.length>0&&e.jsxs("div",{className:"mt-12 pt-10 border-t border-gray-100",children:[e.jsx("h4",{className:"text-sm font-bold text-[#091e42] mb-4 uppercase tracking-wider",children:"Topic Tags"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:s.tags.map((t,o)=>e.jsxs("span",{className:"px-4 py-2 bg-gray-50 border border-gray-200 text-gray-600 text-xs font-bold rounded-lg hover:border-blue-400 hover:text-blue-600 transition-all cursor-pointer",children:["#",t]},o))})]}),e.jsx("div",{className:"mt-12",children:e.jsx(i,{})})]})]})}),e.jsxs("div",{className:"col-span-12 lg:col-span-4 space-y-8 sticky top-24",children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-2 overflow-hidden",children:[e.jsx("span",{className:"text-[10px] text-gray-300 uppercase block mb-1 text-center font-bold tracking-widest",children:"Advertisement"}),e.jsx(E,{})]}),e.jsxs("div",{className:"bg-[#091e42] rounded-2xl p-8 text-white relative overflow-hidden group shadow-xl",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/5 rounded-full blur-2xl group-hover:scale-150 transition-transform duration-700"}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:"Professional Insights"}),e.jsx("p",{className:"text-blue-100/70 text-sm leading-relaxed mb-6",children:"Join 50,000+ readers getting our weekly digest of market trends and career advice."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("input",{type:"email",placeholder:"your@email.com",className:"w-full p-4 bg-white/10 border border-white/20 rounded-xl text-sm outline-none focus:bg-white/20 transition-all"}),e.jsx("button",{className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl shadow-lg transition-all",children:"Subscribe for Free"})]})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsxs("div",{className:"p-6 border-b border-gray-100 flex items-center justify-between",children:[e.jsx("h3",{className:"font-extrabold text-[#091e42]",children:"Latest Stories"}),e.jsx(x,{to:"/blogs",className:"text-xs text-blue-600 font-bold hover:underline",children:"View All"})]}),e.jsx("div",{className:"p-3",children:y?e.jsx(f,{}):w.map(t=>e.jsxs(x,{to:`/blog/${t.slug}`,className:"flex gap-4 p-3 hover:bg-blue-50/50 rounded-xl transition-all group",children:[e.jsx("div",{className:"w-20 h-20 rounded-lg overflow-hidden shrink-0 bg-gray-100",children:e.jsx("img",{src:t.thumbnail,alt:"",className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("span",{className:"text-[9px] font-bold text-blue-600 uppercase mb-1 block",children:t.category}),e.jsx("h4",{className:"text-sm font-bold text-[#091e42] group-hover:text-blue-600 transition-colors line-clamp-2 leading-tight",children:t.title}),e.jsx("p",{className:"text-[10px] text-gray-400 mt-2",children:new Date(t.publishedDate).toLocaleDateString()})]})]},t.slug))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-2 overflow-hidden",children:[e.jsx("span",{className:"text-[10px] text-gray-300 uppercase block mb-1 text-center font-bold tracking-widest",children:"Advertisement"}),e.jsx(i,{})]}),e.jsx(T,{})]})]})})]})};export{M as default};
