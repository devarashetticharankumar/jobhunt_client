import{r,M as J,j as e,i as V,P as W,k as G,l as Z,L as _,A,R as B,G as P,m as M,u as q,e as K,H as Q,n as Y}from"./index-bdnYm6zW.js";import{I as $,A as X}from"./AdPopup-kzghAIMP.js";import{N as ee}from"./NewsLetter-DCKuejUm.js";import{g as I,h as R,i as H,j as z,k as D,l as te,m as se,n as ae,o as le,p as re,q as ne}from"./index-DBDKlf8h.js";import{B as S}from"./react-toastify.esm-Bb8Jn5AM.js";import"./axios-DBFezj-0.js";/* empty css                      */class ie extends r.Component{getSnapshotBeforeUpdate(t){const l=this.props.childRef.current;if(l&&t.isPresent&&!this.props.isPresent){const a=this.props.sizeRef.current;a.height=l.offsetHeight||0,a.width=l.offsetWidth||0,a.top=l.offsetTop,a.left=l.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function oe({children:s,isPresent:t}){const l=r.useId(),a=r.useRef(null),n=r.useRef({width:0,height:0,top:0,left:0}),{nonce:f}=r.useContext(J);return r.useInsertionEffect(()=>{const{width:u,height:i,top:h,left:x}=n.current;if(t||!a.current||!u||!i)return;a.current.dataset.motionPopId=l;const o=document.createElement("style");return f&&(o.nonce=f),document.head.appendChild(o),o.sheet&&o.sheet.insertRule(`
          [data-motion-pop-id="${l}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${i}px !important;
            top: ${h}px !important;
            left: ${x}px !important;
          }
        `),()=>{document.head.removeChild(o)}},[t]),e.jsx(ie,{isPresent:t,childRef:a,sizeRef:n,children:r.cloneElement(s,{ref:a})})}const de=({children:s,initial:t,isPresent:l,onExitComplete:a,custom:n,presenceAffectsLayout:f,mode:u})=>{const i=V(ce),h=r.useId(),x=r.useMemo(()=>({id:h,initial:t,isPresent:l,custom:n,onExitComplete:o=>{i.set(o,!0);for(const d of i.values())if(!d)return;a&&a()},register:o=>(i.set(o,!1),()=>i.delete(o))}),f?[Math.random()]:[l]);return r.useMemo(()=>{i.forEach((o,d)=>i.set(d,!1))},[l]),r.useEffect(()=>{!l&&!i.size&&a&&a()},[l]),u==="popLayout"&&(s=e.jsx(oe,{isPresent:l,children:s})),e.jsx(W.Provider,{value:x,children:s})};function ce(){return new Map}const T=s=>s.key||"";function F(s){const t=[];return r.Children.forEach(s,l=>{r.isValidElement(l)&&t.push(l)}),t}const E=({children:s,exitBeforeEnter:t,custom:l,initial:a=!0,onExitComplete:n,presenceAffectsLayout:f=!0,mode:u="sync"})=>{const i=r.useMemo(()=>F(s),[s]),h=i.map(T),x=r.useRef(!0),o=r.useRef(i),d=V(()=>new Map),[m,b]=r.useState(i),[j,w]=r.useState(i);G(()=>{x.current=!1,o.current=i;for(let y=0;y<j.length;y++){const p=T(j[y]);h.includes(p)?d.delete(p):d.get(p)!==!0&&d.set(p,!1)}},[j,h.length,h.join("-")]);const L=[];if(i!==m){let y=[...i];for(let p=0;p<j.length;p++){const g=j[p],N=T(g);h.includes(N)||(y.splice(p,0,g),L.push(g))}u==="wait"&&L.length&&(y=L),w(F(y)),b(i);return}const{forceRender:C}=r.useContext(Z);return e.jsx(e.Fragment,{children:j.map(y=>{const p=T(y),g=i===j||h.includes(p),N=()=>{if(d.has(p))d.set(p,!0);else return;let c=!0;d.forEach(v=>{v||(c=!1)}),c&&(C==null||C(),w(o.current),n&&n())};return e.jsx(de,{isPresent:g,initial:!x.current||a?void 0:!1,custom:g?void 0:l,presenceAffectsLayout:f,mode:u,onExitComplete:g?void 0:N,children:y},p)})})},me=({data:s})=>{const{_id:t,companyName:l,companyLogo:a,jobTitle:n,slug:f}=s;return e.jsxs(_,{to:`/job/${f||t}`,className:"flex items-center gap-4 p-3 rounded-xl hover:bg-gray-50 transition-colors group",children:[e.jsx("div",{className:"w-12 h-12 flex-shrink-0 rounded-lg bg-white border border-gray-100 flex items-center justify-center p-1 shadow-sm",children:e.jsx("img",{src:a,alt:l,className:"w-full h-full object-contain"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"font-bold text-gray-900 truncate group-hover:text-blue-600 transition-colors text-sm mb-0.5",children:n}),e.jsx("p",{className:"text-xs text-gray-500 truncate",children:l})]})]})},xe=({currentJob:s})=>{const[t,l]=r.useState([]);return r.useEffect(()=>{if(s&&s._id){const a=new URLSearchParams;s.jobLocation&&a.append("location",s.jobLocation),s.experienceLevel&&a.append("level",s.experienceLevel),s.employmentType&&a.append("type",s.employmentType),fetch(`${A}/jobs/related-jobs/${s._id}?${a.toString()}`).then(n=>n.json()).then(n=>{Array.isArray(n)?l(n):l([])}).catch(n=>console.error("Error fetching related jobs:",n))}},[s]),t.length===0?e.jsx("p",{children:"No related jobs found."}):e.jsx("div",{className:"space-y-4",children:t.map((a,n)=>e.jsx(B.Fragment,{children:e.jsx(me,{data:a})},a._id))})};function pe(s){return P({tag:"svg",attr:{viewBox:"0 0 24 24"},child:[{tag:"path",attr:{d:"M17.3183118,0.0772036939 C18.5358869,0.132773211 19.3775594,0.311686093 20.156489,0.614412318 C20.9357539,0.917263935 21.5259307,1.30117806 22.1124276,1.88767349 C22.6988355,2.47414659 23.0827129,3.06422396 23.3856819,3.84361655 C23.688357,4.62263666 23.8672302,5.46418415 23.9227984,6.68172489 C23.9916356,8.19170553 24,8.72394829 24,11.9999742 C24,15.2760524 23.9916355,15.808302 23.9227954,17.3182896 C23.8672306,18.5358038 23.6883589,19.3773584 23.3855877,20.1566258 C23.0826716,20.9358162 22.6987642,21.5259396 22.1124276,22.1122749 C21.5259871,22.6987804 20.9357958,23.0827198 20.1563742,23.3856323 C19.3772192,23.6883583 18.5357324,23.8672318 17.3183209,23.9227442 C15.8086874,23.9916325 15.2765626,24 12,24 C8.72343739,24 8.19131258,23.9916325 6.68172382,23.9227463 C5.46426077,23.8672314 4.62270711,23.6883498 3.84342369,23.3855738 C3.0641689,23.0827004 2.47399369,22.6987612 1.88762592,22.1123283 C1.30117312,21.525877 0.91721975,20.9357071 0.614318116,20.1563835 C0.311643016,19.3773633 0.132769821,18.5358159 0.0772038909,17.3183251 C0.0083529426,15.8092887 0,15.2774634 0,11.9999742 C0,8.7225328 0.00835296697,8.19071076 0.0772047368,6.68165632 C0.132769821,5.46418415 0.311643016,4.62263666 0.614362729,3.84350174 C0.91719061,3.06430165 1.30113536,2.4741608 1.88757245,1.88772514 C2.47399369,1.30123879 3.0641689,0.917299613 3.84345255,0.614414972 C4.62236201,0.311696581 5.46409415,0.132773979 6.68163888,0.0772035898 C8.19074867,0.00835221992 8.72252573,0 12,0 C15.2774788,0 15.8092594,0.00835235053 17.3183118,0.0772036939 Z M12,2.66666667 C8.75959504,2.66666667 8.26400713,2.67445049 6.80319929,2.74109814 C5.87614637,2.78341009 5.31952221,2.90172878 4.80947575,3.09995521 C4.37397765,3.26922052 4.09725505,3.44924273 3.77324172,3.77329203 C3.44916209,4.09737087 3.26913181,4.37408574 3.09996253,4.80937168 C2.90169965,5.31965737 2.78340891,5.87618164 2.74109927,6.80321713 C2.67445122,8.26397158 2.66666667,8.75960374 2.66666667,11.9999742 C2.66666667,15.2403924 2.67445121,15.7360281 2.74109842,17.1967643 C2.78340891,18.1238184 2.90169965,18.6803426 3.09990404,19.1904778 C3.26914133,19.6259017 3.44919889,19.9026659 3.77329519,20.2267614 C4.09725505,20.5507573 4.37397765,20.7307795 4.80932525,20.8999863 C5.31971515,21.0982887 5.87621193,21.2165784 6.80323907,21.2588497 C8.26460439,21.3255353 8.76051223,21.3333333 12,21.3333333 C15.2394878,21.3333333 15.7353956,21.3255353 17.1968056,21.2588476 C18.123775,21.216579 18.6802056,21.0982995 19.1905083,20.9000309 C19.6260288,20.7307713 19.9027426,20.5507596 20.2267583,20.226708 C20.5507492,19.9027179 20.7308046,19.6259456 20.9000375,19.1906283 C21.0983009,18.6803412 21.2165908,18.1238118 21.2588986,17.196779 C21.3255376,15.7350718 21.3333333,15.2390126 21.3333333,11.9999742 C21.3333333,8.76098665 21.3255376,8.26493375 21.2589016,6.80323567 C21.2165911,5.87618164 21.0983004,5.31965737 20.9001178,4.80957831 C20.7308131,4.37403932 20.550774,4.09729207 20.2267583,3.77324038 C19.9027658,3.44924868 19.6260264,3.26922777 19.1905015,3.09996643 C18.6803988,2.90171817 18.1238378,2.78341062 17.1967608,2.74109868 C15.7359966,2.67445057 15.2404012,2.66666667 12,2.66666667 Z M12,18.2222222 C8.56356156,18.2222222 5.77777778,15.4364384 5.77777778,12 C5.77777778,8.56356156 8.56356156,5.77777778 12,5.77777778 C15.4364384,5.77777778 18.2222222,8.56356156 18.2222222,12 C18.2222222,15.4364384 15.4364384,18.2222222 12,18.2222222 Z M12,15.5555556 C13.9636791,15.5555556 15.5555556,13.9636791 15.5555556,12 C15.5555556,10.0363209 13.9636791,8.44444444 12,8.44444444 C10.0363209,8.44444444 8.44444444,10.0363209 8.44444444,12 C8.44444444,13.9636791 10.0363209,15.5555556 12,15.5555556 Z M18.2222222,7.11111111 C17.4858426,7.11111111 16.8888889,6.51415744 16.8888889,5.77777778 C16.8888889,5.04139811 17.4858426,4.44444444 18.2222222,4.44444444 C18.9586019,4.44444444 19.5555556,5.04139811 19.5555556,5.77777778 C19.5555556,6.51415744 18.9586019,7.11111111 18.2222222,7.11111111 Z"},child:[]}]})(s)}function he(s){return P({tag:"svg",attr:{viewBox:"0 0 24 24",strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{stroke:"none",d:"M0 0h24v24H0z",fill:"none"},child:[]},{tag:"path",attr:{d:"M13 4v4c-6.575 1.028 -9.02 6.788 -10 12c-.037 .206 5.384 -5.962 10 -6v4l8 -7l-8 -7z"},child:[]}]})(s)}const O=({jobTitle:s,companyName:t,jobLocation:l,minPrice:a,maxPrice:n,experienceLevel:f,description:u,jobUrl:i=window.location.href,companyLogo:h})=>{const[x,o]=r.useState(!1),d=()=>{const m=`
Hi Everyone,

ðŸš€ Weâ€™re hiring for **${s}** at **${t}**, located in **${l}**!

ðŸ“Œ Job Details: ${i}

If you or someone in your network is interested, please check out the details.

Feel free to share this opportunity within your network.

#hiring #jobopportunity #career #${s.replace(/\s+/g,"")} #${t.replace(/\s+/g,"")} #${l.replace(/\s+/g,"")}`;navigator.share?(o(!0),navigator.share({title:`Check out this job: ${s}`,text:m,url:i}).then(()=>{console.log("Shared successfully"),o(!1)}).catch(b=>{console.error("Error sharing:",b),o(!1)})):navigator.clipboard.writeText(m).then(()=>alert("Job details copied to clipboard!")).catch(()=>alert("Sharing not supported and unable to copy to clipboard."))};return e.jsxs("div",{className:"flex items-center gap-2",children:[h&&e.jsx("img",{src:h,alt:`${t} logo`,className:"w-10 h-10 rounded-full"}),e.jsx("button",{className:`p-3 bg-blue-600 hover:bg-blue-800 focus:outline-none focus:ring-2 focus:ring-blue-400 text-white rounded-full shadow-md transform transition-transform hover:scale-110 ${x?"opacity-50 cursor-not-allowed":""}`,onClick:d,"aria-label":`Share this job: ${s}`,title:`Share this job: ${s}`,disabled:x,children:x?e.jsx("span",{className:"animate-spin",children:"ðŸ”„"}):e.jsx(he,{size:24})})]})};function ue(s){return P({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M327.027 65.816L229.79 128.23l9.856 5.397 86.51-55.53 146.735 83.116-84.165 54.023 4.1 2.244v6.848l65.923-42.316 13.836 7.838-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l64.633-41.487 15.127 8.57-79.76 51.195v11.723l100.033-64.21-24.828-14.062 24.827-15.937-24.828-14.064 24.827-15.937-23.537-13.333 23.842-15.305-166.135-94.106zm31.067 44.74c-21.038 10.556-49.06 12.342-68.79 4.383l-38.57 24.757 126.903 69.47 36.582-23.48c-14.41-11.376-13.21-28.35 2.942-41.67l-59.068-33.46zM227.504 147.5l-70.688 46.094 135.61 78.066 1.33-.85c2.5-1.61 6.03-3.89 10.242-6.613 8.42-5.443 19.563-12.66 30.674-19.86 16.002-10.37 24.248-15.72 31.916-20.694L227.504 147.5zm115.467 1.17a8.583 14.437 82.068 0 1 .003 0 8.583 14.437 82.068 0 1 8.32 1.945 8.583 14.437 82.068 0 1-.87 12.282 8.583 14.437 82.068 0 1-20.273 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.237zm-218.423 47.115L19.143 263.44l23.537 13.333-23.842 15.305 24.828 14.063-24.828 15.938 24.828 14.063-24.828 15.938 166.135 94.106L285.277 381.8V370.08l-99.433 63.824L39.11 350.787l14.255-9.15 131.608 74.547L285.277 351.8V340.08l-99.433 63.824L39.11 320.787l14.255-9.15 131.608 74.547L285.277 321.8V310.08l-99.433 63.824L39.11 290.787l13.27-8.52 132.9 75.28 99.997-64.188v-5.05l-5.48-3.154-93.65 60.11-146.73-83.116 94.76-60.824-9.63-5.543zm20.46 11.78l-46.92 30.115c14.41 11.374 13.21 28.348-2.942 41.67l59.068 33.46c21.037-10.557 49.057-12.342 68.787-4.384l45.965-29.504-123.96-71.358zm229.817 32.19c-8.044 5.217-15.138 9.822-30.363 19.688-11.112 7.203-22.258 14.42-30.69 19.873-4.217 2.725-7.755 5.01-10.278 6.632-.09.06-.127.08-.215.137v85.924l71.547-48.088v-84.166zm-200.99 17.48a8.583 14.437 82.068 0 1 8.32 1.947 8.583 14.437 82.068 0 1-.87 12.28 8.583 14.437 82.068 0 1-20.27 1.29 8.583 14.437 82.068 0 1 .87-12.28 8.583 14.437 82.068 0 1 11.95-3.236z"},child:[]}]})(s)}function ge(s){return P({tag:"svg",attr:{fill:"currentColor",viewBox:"0 0 16 16"},child:[{tag:"path",attr:{d:"M4 .5a.5.5 0 0 0-1 0V1H2a2 2 0 0 0-2 2v1h16V3a2 2 0 0 0-2-2h-1V.5a.5.5 0 0 0-1 0V1H4zm5.402 9.746c.625 0 1.184-.484 1.184-1.18 0-.832-.527-1.23-1.16-1.23-.586 0-1.168.387-1.168 1.21 0 .817.543 1.2 1.144 1.2"},child:[]},{tag:"path",attr:{d:"M16 14V5H0v9a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2m-6.664-1.21c-1.11 0-1.656-.767-1.703-1.407h.683c.043.37.387.82 1.051.82.844 0 1.301-.848 1.305-2.164h-.027c-.153.414-.637.79-1.383.79-.852 0-1.676-.61-1.676-1.77 0-1.137.871-1.809 1.797-1.809 1.172 0 1.953.734 1.953 2.668 0 1.805-.742 2.871-2 2.871zm-2.89-5.435v5.332H5.77V8.079h-.012c-.29.156-.883.52-1.258.777V8.16a13 13 0 0 1 1.313-.805h.632z"},child:[]}]})(s)}const fe=({isOpen:s,onClose:t,jobTitle:l,jobDescription:a})=>{var p,g,N;const[n,f]=r.useState("upload"),[u,i]=r.useState(null),[h,x]=r.useState(""),[o,d]=r.useState(!1),[m,b]=r.useState(null),[j,w]=r.useState("");if(!s)return null;const L=async()=>{if(!u&&!h.trim()){w("Please provide a resume to analyze.");return}d(!0),w(""),b(null);const c=new FormData;c.append("jobTitle",l),c.append("jobDescription",a),u?c.append("resume",u):c.append("resumeText",h);try{const v=await fetch(`${A}/ai/analyze-resume`,{method:"POST",body:c});if(!v.ok)throw new Error("Analysis failed. Please try again.");const k=await v.json();b(k)}catch(v){console.error(v);const k=v.message||"Something went wrong.";w(k),S.error(k)}finally{d(!1)}},C=c=>c>=80?"text-green-600":c>=60?"text-yellow-600":"text-red-600",y=c=>{const k=2*Math.PI*30,U=k-c/100*k;return e.jsxs("div",{className:"relative w-24 h-24 flex items-center justify-center",children:[e.jsxs("svg",{className:"w-full h-full transform -rotate-90",children:[e.jsx("circle",{cx:"50%",cy:"50%",r:30,stroke:"currentColor",strokeWidth:"8",fill:"transparent",className:"text-gray-200"}),e.jsx("circle",{cx:"50%",cy:"50%",r:30,stroke:"currentColor",strokeWidth:"8",fill:"transparent",strokeDasharray:k,strokeDashoffset:U,className:C(c),strokeLinecap:"round"})]}),e.jsxs("span",{className:`absolute text-xl font-bold ${C(c)}`,children:[c,"%"]})]})};return e.jsx(E,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs(M.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.9},className:"bg-white w-full max-w-2xl rounded-3xl shadow-2xl overflow-hidden max-h-[90vh] flex flex-col",children:[e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-purple-600 p-6 flex justify-between items-center text-white shrink-0",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white/20 rounded-lg",children:e.jsx(I,{className:"text-2xl"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"AI Resume Scorer"}),e.jsx("p",{className:"text-blue-100 text-sm",children:"See how well you match this job!"})]})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition",children:e.jsx(R,{className:"text-2xl"})})]}),e.jsx("div",{className:"p-6 overflow-y-auto flex-1 custom-scrollbar",children:m?e.jsxs("div",{className:"space-y-8 animate-fadeIn",children:[e.jsxs("div",{className:"flex items-center gap-8 bg-blue-50/50 p-6 rounded-2xl border border-blue-100",children:[y(m.score),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 mb-1",children:"Match Score Analysis"}),e.jsx("p",{className:"text-gray-600 text-sm leading-relaxed",children:m.match_summary})]})]}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 font-bold text-green-700 mb-3",children:[e.jsx(z,{})," Matching Skills"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(p=m.matching_skills)==null?void 0:p.map((c,v)=>e.jsx("span",{className:"px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs font-semibold",children:c},v))})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"flex items-center gap-2 font-bold text-red-600 mb-3",children:[e.jsx(D,{})," Missing / To Improve"]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(g=m.missing_skills)==null?void 0:g.map((c,v)=>e.jsx("span",{className:"px-3 py-1 bg-red-100 text-red-700 rounded-full text-xs font-semibold",children:c},v))})]})]}),e.jsxs("div",{className:"bg-yellow-50 p-6 rounded-2xl border border-yellow-100",children:[e.jsxs("h4",{className:"flex items-center gap-2 font-bold text-yellow-800 mb-4",children:[e.jsx(te,{className:"text-xl"})," AI Improvement Tips"]}),e.jsx("ul",{className:"space-y-3",children:(N=m.improvement_tips)==null?void 0:N.map((c,v)=>e.jsxs("li",{className:"flex items-start gap-3 text-sm text-gray-700",children:[e.jsx("span",{className:"mt-1.5 w-1.5 h-1.5 bg-yellow-400 rounded-full shrink-0"}),c]},v))})]}),e.jsxs("div",{className:"flex justify-end pt-4",children:[e.jsx("button",{onClick:()=>b(null),className:"text-gray-500 font-semibold hover:text-gray-800 transition px-6 py-2",children:"Analyze Another"}),e.jsx("button",{onClick:t,className:"ml-4 px-6 py-2 bg-gray-900 text-white rounded-xl font-bold hover:bg-gray-800 transition",children:"Done"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex bg-gray-100 p-1 rounded-xl mb-6",children:[e.jsx("button",{onClick:()=>{f("upload"),i(null)},className:`flex-1 py-2 rounded-lg font-medium text-sm transition-all ${n==="upload"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Upload PDF"}),e.jsx("button",{onClick:()=>{f("text"),x("")},className:`flex-1 py-2 rounded-lg font-medium text-sm transition-all ${n==="text"?"bg-white text-blue-600 shadow-sm":"text-gray-500 hover:text-gray-700"}`,children:"Paste Text"})]}),n==="upload"?e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-2xl p-10 flex flex-col items-center justify-center text-center hover:bg-blue-50/50 hover:border-blue-400 transition-all group",children:[e.jsx(H,{className:"text-6xl text-gray-300 group-hover:text-blue-500 mb-4 transition-colors"}),e.jsx("p",{className:"text-gray-600 font-medium mb-2",children:"Drag & Drop or Click to Upload"}),e.jsx("p",{className:"text-gray-400 text-sm",children:"Supported Format: PDF (Max 5MB)"}),e.jsx("input",{type:"file",accept:".pdf",onChange:c=>i(c.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer"}),u&&e.jsxs("div",{className:"mt-4 px-4 py-2 bg-blue-100 text-blue-700 rounded-lg text-sm font-semibold flex items-center gap-2",children:[e.jsx(z,{})," ",u.name]})]}):e.jsx("textarea",{className:"w-full h-48 p-4 border border-gray-200 rounded-2xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none font-mono text-sm bg-gray-50",placeholder:"Paste your resume content here...",value:h,onChange:c=>x(c.target.value)}),j&&e.jsxs("div",{className:"mt-4 p-3 bg-red-50 border border-red-200 rounded-xl flex items-center justify-center gap-2 text-red-600 text-sm font-semibold animate-pulse",children:[e.jsx(D,{className:"text-xl shrink-0"}),j]}),e.jsx("div",{className:"mt-8 flex justify-end",children:e.jsx("button",{onClick:L,disabled:o,className:"px-8 py-3 bg-gradient-to-r from-blue-600 to-purple-600 text-white font-bold rounded-xl shadow-lg hover:shadow-xl hover:scale-105 transition-all disabled:opacity-70 disabled:hover:scale-100 flex items-center gap-2",children:o?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Analyzing..."]}):e.jsxs(e.Fragment,{children:["Analyze My Resume ",e.jsx(I,{})]})})})]})})]})})})},ye=({isOpen:s,onClose:t,job:l})=>{const{user:a}=q(),[n,f]=r.useState(null),[u,i]=r.useState(""),[h,x]=r.useState(!1);if(!s)return null;const o=async d=>{if(d.preventDefault(),!n){S.error("Please upload your resume.");return}x(!0);const m=new FormData;m.append("jobId",l._id||l.id),m.append("jobTitle",l.jobTitle),m.append("companyName",l.companyName),m.append("postedBy",l.postedBy),m.append("applicantName",(a==null?void 0:a.name)||"Anonymous"),m.append("applicantEmail",a==null?void 0:a.email),m.append("coverLetter",u),m.append("resume",n);try{const b=await fetch("http://localhost:5001/applications/apply",{method:"POST",body:m}),j=await b.json();b.ok?(S.success("Application submitted successfully!"),t()):S.error(j.message||"Failed to submit application.")}catch(b){console.error("Application error:",b),S.error("Something went wrong. Please try again.")}finally{x(!1)}};return e.jsx(E,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",children:e.jsxs(M.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white w-full max-w-lg rounded-3xl shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[e.jsxs("div",{className:"bg-blue-600 p-6 flex justify-between items-center text-white",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-xl font-bold",children:"Easy Apply"}),e.jsxs("p",{className:"text-blue-100 text-sm",children:["Applying for ",l==null?void 0:l.jobTitle]})]}),e.jsx("button",{onClick:t,className:"p-2 hover:bg-white/20 rounded-full transition",children:e.jsx(R,{className:"text-2xl"})})]}),e.jsxs("form",{onSubmit:o,className:"p-6 overflow-y-auto custom-scrollbar space-y-6",children:[e.jsxs("div",{className:"bg-gray-50 p-4 rounded-xl space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Name"}),e.jsx("span",{className:"font-semibold text-gray-800",children:a==null?void 0:a.name})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-gray-500",children:"Email"}),e.jsx("span",{className:"font-semibold text-gray-800",children:a==null?void 0:a.email})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Upload Resume (PDF)"}),e.jsxs("div",{className:"border-2 border-dashed border-gray-300 rounded-xl p-6 flex flex-col items-center justify-center text-center hover:bg-blue-50/50 hover:border-blue-400 transition-all group relative cursor-pointer",children:[e.jsx("input",{type:"file",accept:".pdf",onChange:d=>f(d.target.files[0]),className:"absolute inset-0 opacity-0 cursor-pointer z-10"}),n?e.jsxs("div",{className:"flex items-center gap-2 text-green-600 font-medium",children:[e.jsx(z,{className:"text-xl"}),n.name]}):e.jsxs(e.Fragment,{children:[e.jsx(H,{className:"text-4xl text-gray-300 group-hover:text-blue-500 mb-2 transition-colors"}),e.jsx("span",{className:"text-sm text-gray-500",children:"Click to browse"})]})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2",children:"Cover Letter (Optional)"}),e.jsx("textarea",{value:u,onChange:d=>i(d.target.value),placeholder:"Why are you a good fit for this role?",className:"w-full p-4 border border-gray-200 rounded-xl focus:outline-none focus:ring-2 focus:ring-blue-500 resize-none h-32 text-sm"})]}),e.jsx("button",{type:"submit",disabled:h,className:"w-full py-3 bg-blue-600 text-white font-bold rounded-xl shadow-lg hover:bg-blue-700 transition-all disabled:opacity-70 flex items-center justify-center gap-2",children:h?"Sending...":e.jsxs(e.Fragment,{children:["Send Application ",e.jsx(se,{})]})})]})]})})})},be=({isOpen:s,onClose:t,jobTitle:l,skills:a})=>{const[n,f]=r.useState(""),[u,i]=r.useState(!1),h=async x=>{x.preventDefault(),i(!0);try{const o=await fetch(`${A}/subscriptions/subscribe-alerts`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:n,jobRole:l,skills:(a==null?void 0:a.map(m=>m.label))||[]})}),d=await o.json();o.ok?(S.success(d.message),f(""),t()):S.error(d.message||"Failed to subscribe")}catch(o){S.error("An error occurred. Please try again."),console.error(o)}finally{i(!1)}};return s?e.jsx(E,{children:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/60 backdrop-blur-sm",onClick:t,children:e.jsxs(M.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white rounded-3xl shadow-2xl w-full max-w-md overflow-hidden relative",onClick:x=>x.stopPropagation(),children:[e.jsxs("div",{className:"bg-gradient-to-r from-indigo-600 to-purple-600 p-6 text-white text-center relative",children:[e.jsx("button",{onClick:t,className:"absolute top-4 right-4 p-2 bg-white/10 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(R,{className:"text-xl"})}),e.jsx("div",{className:"w-16 h-16 bg-white/20 rounded-full flex items-center justify-center mx-auto mb-4 backdrop-blur-md border border-white/30",children:e.jsx(ae,{className:"text-4xl"})}),e.jsx("h2",{className:"text-2xl font-bold mb-1",children:"Get Job Alerts"}),e.jsxs("p",{className:"text-indigo-100 text-sm px-4",children:["Stay updated specifically for ",e.jsx("br",{}),e.jsx("span",{className:"font-bold text-white bg-white/10 px-2 py-0.5 rounded-md mt-1 inline-block border border-white/20",children:l})]})]}),e.jsx("div",{className:"p-8",children:e.jsxs("form",{onSubmit:h,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-2 ml-1",children:"Email Address"}),e.jsxs("div",{className:"relative",children:[e.jsx(le,{className:"absolute left-3 top-3.5 text-gray-400 text-xl"}),e.jsx("input",{type:"email",required:!0,value:n,onChange:x=>f(x.target.value),placeholder:"you@example.com",className:"w-full pl-10 pr-4 py-3 rounded-xl border border-gray-200 focus:border-indigo-500 focus:ring-4 focus:ring-indigo-500/10 outline-none transition-all"})]})]}),e.jsx("button",{type:"submit",disabled:u,className:"w-full py-4 bg-gradient-to-r from-indigo-600 to-purple-600 text-white font-bold rounded-xl shadow-lg shadow-indigo-200 hover:shadow-xl transform hover:-translate-y-0.5 transition-all disabled:opacity-70 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:u?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"w-5 h-5 border-2 border-white/30 border-t-white rounded-full animate-spin"}),"Processing..."]}):"Activate Alerts"}),e.jsx("p",{className:"text-xs text-center text-gray-400",children:"You can unsubscribe at any time."})]})})]})})}):null},Le=()=>{var C;const{slug:s}=K(),[t,l]=r.useState(null),[a,n]=r.useState(!0),[f,u]=r.useState(!1),[i,h]=r.useState(!1),[x,o]=r.useState(!1);r.useEffect(()=>{const p=/^[0-9a-fA-F]{24}$/.test(s)?`${A}/jobs/all-jobs/${s}`:`${A}/jobs/job/${s}`;fetch(p).then(g=>{if(!g.ok)throw new Error("Failed to fetch");return g.json()}).then(g=>{l(g),n(!1)}).catch(g=>{console.error("Error fetching job details:",g),n(!1)})},[s]);const d=()=>{window.open(t.ApplyLink,"_blank")},m=y=>{const p={year:"numeric",month:"long",day:"numeric"};return new Date(y).toLocaleDateString(void 0,p)},b=(t==null?void 0:t.jobTitle)||"Job Details",j=(t==null?void 0:t.description)||"Latest jobs are posted!!",w=`${window.location.origin}/job/${s}`,L=y=>y.split(/<\/p>/).filter(g=>g.trim()!=="").map((g,N)=>e.jsxs(B.Fragment,{children:[e.jsx("div",{className:"text-gray-900 ql-editor !px-0",style:{paddingTop:"0px",paddingBottom:"0px",paddingLeft:"0px",paddingRight:"0px"},dangerouslySetInnerHTML:{__html:g.trim()+"</p>"}}),N>0&&N%5===0&&e.jsx($,{})]},N));return e.jsxs("div",{className:"max-w-screen-2xl container mx-auto xl:px-24 px-4 py-5",children:[e.jsxs(Q,{children:[e.jsxs("title",{children:[b.slice(0,55)," - JobNirvana"]}),e.jsx("meta",{name:"description",content:j.slice(0,155)}),e.jsx("meta",{property:"og:title",content:b}),e.jsx("meta",{property:"og:description",content:j.slice(0,155)}),e.jsx("meta",{property:"og:image",content:(t==null?void 0:t.companyLogo)||"/default-logo.png"}),e.jsx("link",{rel:"canonical",href:w}),e.jsx("meta",{property:"og:url",content:w}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{name:"robots",content:"index, follow"}),e.jsx("meta",{name:"keywords",content:`${b}, ${t==null?void 0:t.companyName}, ${t==null?void 0:t.jobLocation}, ${t==null?void 0:t.experienceLevel}`}),e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org/","@type":"JobPosting",title:t==null?void 0:t.jobTitle,description:j,hiringOrganization:{"@type":"Organization",name:t==null?void 0:t.companyName,logo:t==null?void 0:t.companyLogo},jobLocation:{"@type":"Place",address:{"@type":"PostalAddress",addressLocality:t==null?void 0:t.jobLocation}},datePosted:t==null?void 0:t.createdAt,employmentType:t==null?void 0:t.employmentType,baseSalary:{"@type":"MonetaryAmount",currency:"USD",value:{"@type":"QuantitativeValue",minValue:t==null?void 0:t.minPrice,maxValue:t==null?void 0:t.maxPrice,unitText:t==null?void 0:t.salaryType}},applyUrl:t==null?void 0:t.ApplyLink})})]}),a?e.jsx("div",{className:"flex flex-col md:flex-row justify-between",children:e.jsx("div",{className:"w-full md:w-3/4 bg-white p-3 lg:p-6 rounded-lg shadow-lg",children:e.jsxs("div",{className:"animate-pulse",children:[e.jsxs("div",{className:"flex items-center justify-center mb-6",children:[e.jsx("div",{className:"w-24 h-24 rounded-lg bg-gray-300"}),e.jsxs("div",{className:"ml-4",children:[e.jsx("div",{className:"h-8 w-48 bg-gray-300 mb-2"}),e.jsx("div",{className:"h-6 w-32 bg-gray-300"})]})]}),e.jsx("div",{className:"h-6 w-full bg-gray-300 mb-2"}),e.jsx("div",{className:"h-40 w-full bg-gray-300 mb-4"})]})})}):e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsxs(M.div,{className:"w-full lg:w-[70%] space-y-8",initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.6},children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"h-32 bg-gradient-to-r from-blue-600 to-indigo-700 relative",children:e.jsx("div",{className:"absolute inset-0 bg-white/10 pattern-grid-lg"})}),e.jsxs("div",{className:"px-1.5 pb-1.5 md:px-8 md:pb-8",children:[e.jsxs("div",{className:"relative -mt-12 mb-6 flex flex-col md:flex-row justify-between items-start md:items-end gap-4",children:[e.jsxs("div",{className:"flex flex-col md:flex-row items-start md:items-end gap-4 md:gap-6 w-full",children:[e.jsxs("div",{className:"flex justify-between items-end w-full md:w-auto",children:[e.jsx("div",{className:"w-16 h-16 md:w-24 md:h-24 bg-white rounded-xl shadow-md p-2 flex items-center justify-center border border-gray-100 flex-shrink-0",children:e.jsx("img",{src:t==null?void 0:t.companyLogo,alt:t==null?void 0:t.companyName,loading:"lazy",className:"w-full h-full object-contain"})}),e.jsx("div",{className:"md:hidden pb-1",children:e.jsx(O,{jobTitle:t.jobTitle,companyName:t.companyName,jobLocation:t.jobLocation})})]}),e.jsxs("div",{className:"mb-0 md:mb-2 w-full",children:[e.jsx("h1",{className:"text-xl md:text-3xl font-bold text-gray-900 leading-tight mb-1",children:t==null?void 0:t.jobTitle}),e.jsx(_,{to:`/company/${encodeURIComponent(t==null?void 0:t.companyName)}`,className:"text-gray-500 font-medium text-base md:text-lg hover:text-blue-600 hover:underline transition-colors block w-fit",children:t==null?void 0:t.companyName})]})]}),e.jsx("div",{className:"hidden md:block flex-shrink-0",children:e.jsx(O,{jobTitle:t.jobTitle,companyName:t.companyName,jobLocation:t.jobLocation})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 bg-blue-50/50 rounded-xl p-0 md:p-6 border border-blue-100/50",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-green-600",children:e.jsx(ue,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Salary"}),e.jsxs("p",{className:"font-bold text-gray-900",children:[t==null?void 0:t.minPrice," - ",t==null?void 0:t.maxPrice," ",((t==null?void 0:t.salaryType)==="Monthly","k")]})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-blue-600",children:e.jsx(re,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Location"}),e.jsx("p",{className:"font-bold text-gray-900",children:t==null?void 0:t.jobLocation})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-purple-600",children:e.jsx(ne,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Employment Type"}),e.jsx("p",{className:"font-bold text-gray-900",children:t==null?void 0:t.employmentType})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 bg-white rounded-lg shadow-sm text-orange-600",children:e.jsx(ge,{className:"text-xl"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-gray-500 font-medium",children:"Posted On"}),e.jsx("p",{className:"font-bold text-gray-900",children:m(t==null?void 0:t.createdAt)})]})]})]})]})]})]}),e.jsx($,{}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-0 md:p-8",children:[e.jsx("div",{className:"prose prose-blue max-w-none text-gray-600 leading-relaxed",children:L((t==null?void 0:t.description)||"")}),e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 mb-4",children:"Required Skills"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:(C=t==null?void 0:t.skills)==null?void 0:C.map((y,p)=>e.jsx("span",{className:"px-4 py-2 bg-gray-50 text-gray-700 rounded-lg text-sm font-medium border border-gray-200",children:y.label},p))})]})]}),e.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-indigo-700 rounded-2xl p-0 md:p-8 text-center text-white shadow-xl shadow-blue-200",children:[e.jsx("h3",{className:"text-2xl font-bold mb-2",children:"Interested in this role?"}),e.jsx("p",{className:"text-blue-100 mb-6",children:"Take the next step in your career and apply today."}),e.jsx("button",{className:"bg-blue-600 px-8 py-3 text-white rounded-lg font-semibold hover:bg-blue-700 transition-colors shadow-lg shadow-blue-200 flex items-center gap-2 mx-auto",onClick:d,children:"Apply Now on Company Site"}),e.jsxs("div",{className:"mt-6 flex justify-center items-center gap-2 text-blue-200 text-sm",children:[e.jsx(pe,{})," Follow us for more updates"]})]}),e.jsx($,{})]}),e.jsxs(M.div,{className:"w-full lg:w-[30%] space-y-6",initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},children:[e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:[e.jsxs("h3",{className:"font-bold text-gray-900 mb-2 flex items-center gap-2",children:[e.jsx(Y,{className:"text-yellow-500"})," Job Alerts"]}),e.jsxs("p",{className:"text-gray-500 text-sm mb-4",children:["Get notified about similar ",e.jsx("strong",{children:t==null?void 0:t.jobTitle})," jobs."]}),e.jsx("button",{onClick:()=>o(!0),className:"w-full py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 font-semibold rounded-xl transition-colors text-sm",children:"Activate Alerts"})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6",children:e.jsx(ee,{})}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 overflow-hidden",children:[e.jsx("div",{className:"p-4 border-b border-gray-100 bg-gray-50",children:e.jsx("h3",{className:"font-bold text-gray-900",children:"Related Jobs"})}),e.jsx("div",{className:"p-4",children:e.jsx(xe,{currentJob:t})})]}),e.jsx(X,{})]})]}),e.jsx(fe,{isOpen:f,onClose:()=>u(!1),jobTitle:t==null?void 0:t.jobTitle,jobDescription:t==null?void 0:t.description}),e.jsx(ye,{isOpen:i,onClose:()=>h(!1),job:t}),e.jsx(be,{isOpen:x,onClose:()=>o(!1),jobTitle:t==null?void 0:t.jobTitle,skills:t==null?void 0:t.skills})]})};export{Le as default};
