import{j as e,L as b,F as C,r as t,R,u as T,H as _,a as $,b as D,c as I,d as J,m as M,e as B,f as z,A as P}from"./index-Dc3DlMvd.js";import{P as E}from"./ProfileCard-Bjo5kHnP.js";import{M as H,a as U,b as V}from"./index-NqCwrgSu.js";import{I as v}from"./InArticleAd-BdgRI0ZF.js";import{I as S}from"./InFeedAd-BalgT6gJ.js";import{S as G}from"./SkeletonLoading-DORIwaa_.js";import{A as O}from"./index-CgT8SGRP.js";const W=()=>e.jsxs("div",{className:"bg-gradient-to-r from-amber-50 to-orange-50 rounded-xl p-5 border border-orange-100 flex items-center justify-between shadow-sm mb-6 relative overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-orange-100 rounded-full blur-3xl -mr-10 -mt-10 opacity-50"}),e.jsxs("div",{className:"relative z-10 flex-1",children:[e.jsx("h3",{className:"font-bold text-gray-900 text-lg mb-1",children:"Charan, you are missing out on Pro features"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Get ",e.jsx("span",{className:"font-bold text-gray-800",children:"3X more profile views"})," and faster responses from recruiters."]}),e.jsxs("button",{className:"bg-orange-500 hover:bg-orange-600 text-white text-xs font-bold py-2 px-4 rounded-full transition-colors shadow-sm shadow-orange-200 flex items-center gap-1",children:[e.jsx(H,{className:"text-yellow-200"})," Get Premium"]})]}),e.jsx("div",{className:"relative z-10 hidden sm:block",children:e.jsx("div",{className:"w-16 h-16 bg-white rounded-full flex items-center justify-center shadow-md border-2 border-orange-100",children:e.jsx("span",{className:"text-2xl",children:"üöÄ"})})})]}),q=({data:o})=>{const{_id:l,companyName:n,companyLogo:i,jobLocation:h,jobTitle:x,minPrice:a,maxPrice:g,postingDate:r,salaryType:w,experienceLevel:s,employmentType:u,description:d,slug:f}=o;return e.jsxs("div",{className:"group bg-white hover:shadow-[0_0_12px_0_rgba(0,0,0,0.1)] transition-shadow duration-200 p-5 rounded-xl border border-gray-200 mb-3 relative",children:[e.jsxs(b,{to:`/job/${f||l}`,className:"block",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("h3",{className:"text-lg font-bold text-gray-900 group-hover:text-blue-600 transition-colors mb-1",children:x}),e.jsxs("div",{className:"flex items-center gap-2 text-sm font-medium text-gray-800",children:[n,e.jsx("span",{className:"text-yellow-400 text-xs",children:"‚òÖ"}),e.jsx("span",{className:"text-gray-400 text-xs font-normal text-xs",children:"(4.2 Reviews)"})]})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 mb-3",children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(U,{className:"text-gray-400"}),s||"0-5 Yrs"]}),e.jsx("span",{className:"hidden w-px h-3 bg-gray-300 sm:block"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(V,{className:"text-gray-400"}),a&&g?`${a}k - ${g}k PA`:"Not Disclosed"]}),e.jsx("span",{className:"hidden w-px h-3 bg-gray-300 sm:block"}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(C,{className:"text-gray-400"}),h]})]}),e.jsx("div",{className:"flex items-start gap-3 mb-3",children:e.jsxs("div",{className:"text-sm text-gray-500 line-clamp-2 leading-relaxed font-sans",children:[e.jsx("span",{className:"font-medium text-gray-400 mr-1",children:"Job description:"}),d==null?void 0:d.replace(/<[^>]*>?/gm,"").substring(0,180),"..."]})}),e.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:["React","Node.js","MongoDB","Tailwind"].map((y,N)=>e.jsx("span",{className:"px-2 py-1 text-xs text-gray-600 bg-gray-100 rounded-full font-normal",children:y},N))}),e.jsxs("div",{className:"flex items-center justify-between pt-2 border-t border-dashed border-gray-100 mt-2",children:[e.jsxs("div",{className:"text-xs text-gray-400 font-medium",children:[e.jsx("span",{className:"text-green-600 font-bold mr-1",children:"History"}),"Posted: ",r||"Today"]}),e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity duration-200",children:e.jsx("span",{className:"text-blue-600 font-bold text-sm",children:"View Job"})})]})]}),i&&e.jsx("div",{className:"absolute top-6 right-6 w-12 h-12 hidden md:block",children:e.jsx("img",{src:i,alt:n,className:"w-full h-full object-contain"})})]})},Q=({title:o,jobs:l,count:n})=>{const[i,h]=t.useState("profile");return e.jsxs("div",{className:"bg-white rounded-xl shadow-[0_0_12px_0_rgba(0,0,0,0.1)] border border-gray-100 mb-6 overflow-hidden",children:[e.jsxs("div",{className:"flex items-center border-b border-gray-100 px-4",children:[e.jsxs("button",{className:`py-4 px-2 mr-6 text-sm font-bold border-b-2 transition-colors ${i==="profile"?"border-blue-600 text-blue-600":"border-transparent text-gray-500 hover:text-gray-800"}`,onClick:()=>h("profile"),children:[o," (",n||0,")"]}),e.jsx(b,{to:"/jobs",className:"ml-auto text-xs font-semibold text-blue-600 cursor-pointer hover:underline",children:"View All"})]}),e.jsx("div",{className:"p-4",children:i==="profile"?e.jsx("div",{className:"space-y-3",children:l&&l.length>0?l.map((x,a)=>e.jsxs(R.Fragment,{children:[e.jsx(q,{data:x,isCompact:!0}),(a+1)%3===0&&e.jsx("div",{className:"py-2",children:e.jsx(v,{})})]},a)):e.jsx("div",{className:"text-center py-8 text-gray-500 text-sm",children:"No recommendations yet."})}):e.jsxs("div",{className:"text-center py-8 text-gray-500 text-sm",children:[e.jsx("p",{children:"Loading personalized recommendations..."}),e.jsx(b,{to:"/jobs",className:"text-blue-600 underline text-xs mt-2 block",children:"Browse all jobs"})]})})]})},ae=()=>{const[o,l]=t.useState([]),[n,i]=t.useState([]),[h,x]=t.useState(!0),[a,g]=t.useState(null);T();const[r,w]=t.useState(""),[s,u]=t.useState(1),[d,f]=t.useState(1),y=10;t.useEffect(()=>{(async()=>{x(!0);const m=new URLSearchParams;r&&m.append("search",r),m.append("page",s),m.append("limit",y);try{const[j,k]=await Promise.all([fetch(`${P}/jobs/all-jobs?${m.toString()}`),fetch(`${P}/blogs/all-blogs`)]);if(j.ok){const p=await j.json();l(p.jobs||[]),f(p.totalPages||1)}if(k.ok){const p=await k.json(),L=Array.isArray(p)?p:[];i(L.slice(0,3))}}catch(j){console.error("Dashboard fetch error:",j),g("Failed to load feed")}finally{x(!1)}})()},[r,s]);const N=c=>{w(c.target.value),u(1)},F=()=>{s<d&&(u(s+1),window.scrollTo({top:0,behavior:"smooth"}))},A=()=>{s>1&&(u(s-1),window.scrollTo({top:0,behavior:"smooth"}))};return e.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] font-sans pb-12",children:[e.jsxs(_,{children:[e.jsx("title",{children:"Jobs Feed | JobNirvana"}),e.jsx("meta",{name:"description",content:"Search and apply for the latest job opportunities on JobNirvana."})]}),e.jsx("div",{className:"bg-white border-b border-gray-100 sticky top-0 z-40 shadow-sm transition-all duration-300",children:e.jsx("div",{className:"max-w-[1240px] mx-auto px-4 py-4",children:e.jsxs("div",{className:"flex items-center gap-6",children:[e.jsxs("div",{className:"flex-1 relative group",children:[e.jsx("div",{className:"absolute inset-y-0 left-5 flex items-center pointer-events-none",children:e.jsx($,{className:"text-gray-400 group-focus-within:text-blue-600 transition-colors"})}),e.jsx("input",{type:"text",placeholder:"Search jobs by title, skills or companies...",value:r,onChange:N,className:"w-full pl-12 pr-6 py-3.5 rounded-2xl border border-gray-100 bg-gray-50 focus:bg-white focus:border-blue-500 focus:ring-4 focus:ring-blue-500/5 outline-none text-sm transition-all shadow-inner group-hover:bg-gray-100 group-focus-within:shadow-lg group-focus-within:bg-white"})]}),e.jsxs("button",{className:"hidden md:flex items-center gap-2 px-6 py-3.5 bg-[#091e42] text-white rounded-2xl font-bold hover:bg-black transition-all shadow-lg shadow-gray-200",children:[e.jsx(D,{className:"text-xs"})," Filters"]})]})})}),e.jsx("div",{className:"max-w-[1240px] mx-auto px-4 pt-10 mt-12",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-12 gap-8 items-start",children:[e.jsxs("div",{className:"hidden lg:block lg:col-span-3 sticky top-28",children:[e.jsx(E,{}),e.jsxs("div",{className:"bg-white rounded-2xl p-6 shadow-sm border border-gray-100 mt-6 relative overflow-hidden group",children:[e.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-5 group-hover:opacity-10 transition-opacity",children:e.jsx(I,{className:"text-5xl text-blue-600"})}),e.jsxs("h4",{className:"text-[10px] font-extrabold text-blue-600 uppercase tracking-widest mb-4 flex items-center gap-2",children:[e.jsx(J,{})," Growth Tips"]}),e.jsxs("p",{className:"text-xs text-gray-500 font-bold leading-relaxed",children:["Updating your profile daily increases your visibility to recruiters by ",e.jsx("span",{className:"text-blue-600 text-sm",children:"40%"}),"."]}),e.jsx(b,{to:"/profile",className:"mt-4 block text-[10px] font-extrabold text-[#091e42] uppercase hover:underline",children:"Update Profile Now"})]})]}),e.jsxs("div",{className:"col-span-12 lg:col-span-6 space-y-6",children:[e.jsx(W,{}),e.jsxs("div",{className:"bg-white rounded-2xl p-2 border border-dashed border-gray-200 shadow-sm",children:[e.jsx("span",{className:"text-[10px] text-gray-300 uppercase block mb-1 text-center font-bold tracking-widest",children:"Sponsored Feed"}),e.jsx(S,{})]}),h?e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm border border-gray-50",children:e.jsx(G,{})}):a?e.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 p-8 rounded-2xl font-bold text-center",children:a}):e.jsx(O,{mode:"popLayout",children:e.jsxs(M.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-6",children:[e.jsx(Q,{title:r?`Results for "${r}"`:"Recommended for you",count:o.length,jobs:o}),e.jsx("div",{className:"py-4",children:e.jsx(v,{})}),o.length>0&&e.jsxs("div",{className:"flex items-center justify-between bg-white p-4 rounded-2xl border border-gray-100 shadow-sm",children:[e.jsxs("button",{onClick:A,disabled:s===1,className:"flex items-center gap-2 px-5 py-2.5 bg-gray-50 rounded-xl text-sm font-bold text-gray-600 disabled:opacity-30 hover:bg-blue-50 hover:text-blue-600 transition-all border border-transparent hover:border-blue-100",children:[e.jsx(B,{className:"text-xs"})," Prev"]}),e.jsxs("span",{className:"text-xs font-extrabold text-gray-400 uppercase tracking-widest",children:["Page ",e.jsx("span",{className:"text-[#091e42]",children:s})," / ",d]}),e.jsxs("button",{onClick:F,disabled:s>=d,className:"flex items-center gap-2 px-5 py-2.5 bg-gray-50 rounded-xl text-sm font-bold text-gray-600 disabled:opacity-30 hover:bg-blue-50 hover:text-blue-600 transition-all border border-transparent hover:border-blue-100",children:["Next ",e.jsx(z,{className:"text-xs"})]})]})]})}),e.jsx("div",{className:"bg-white rounded-2xl p-2 border border-dashed border-gray-200",children:e.jsx(S,{})})]}),e.jsxs("div",{className:"hidden lg:block lg:col-span-3 space-y-6 sticky top-28",children:[n.length>0&&e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm overflow-hidden border border-gray-100",children:[e.jsxs("div",{className:"p-5 border-b border-gray-50 flex items-center justify-between",children:[e.jsx("h4",{className:"font-extrabold text-[#091e42] text-sm",children:"Career Insights"}),e.jsx(b,{to:"/blogs",className:"text-[10px] font-bold text-blue-600 hover:underline uppercase tracking-wider",children:"View All"})]}),e.jsx("div",{className:"divide-y divide-gray-50",children:n.map((c,m)=>e.jsxs(b,{to:`/blog/${c.slug||c._id}`,className:"block p-4 hover:bg-blue-50/50 transition-colors group",children:[e.jsx("h5",{className:"text-xs font-bold text-gray-700 group-hover:text-blue-600 line-clamp-2 leading-relaxed",children:c.title}),e.jsx("span",{className:"text-[9px] text-gray-400 font-bold uppercase mt-2 block tracking-widest",children:new Date(c.createdAt||Date.now()).toLocaleDateString("en-IN",{month:"short",day:"numeric"})})]},m))})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-2 overflow-hidden",children:[e.jsx("span",{className:"text-[10px] text-gray-300 uppercase block mb-1 text-center font-bold tracking-widest",children:"Advertisement"}),e.jsx(v,{})]}),e.jsxs("div",{className:"bg-[#091e42] rounded-2xl p-6 text-white relative overflow-hidden group shadow-xl",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/5 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),e.jsx("h4",{className:"font-bold text-sm mb-2 flex items-center gap-2",children:"üõ°Ô∏è Trust & Safety"}),e.jsx("p",{className:"text-[10px] text-blue-100/70 leading-relaxed font-medium",children:"JobNirvana never asks candidates for money. Beware of fraudsters claiming to represent us."})]})]})]})})]})};export{ae as default};
