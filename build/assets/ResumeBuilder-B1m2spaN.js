import{r as a,u as C,j as e,K as p,H as F,L as l,M as g,N as b,d as R,R as S,m as E,O as I,A as f}from"./index-Dc3DlMvd.js";import{B as d}from"./react-toastify.esm-XnmEAQu3.js";import{P as L}from"./ProfileCard-Bjo5kHnP.js";import{I as j}from"./InFeedAd-BalgT6gJ.js";import{I as B}from"./InArticleAd-BdgRI0ZF.js";import{S as M}from"./SkeletonLoading-DORIwaa_.js";import{T as w,a as $,b as D,c as P,d as _,e as J,f as z,g as H,h as U,i as V,j as q,k as K,l as O,m as W,n as Y}from"./TemplateClassic-DTaIA697.js";const ae=()=>{const[c,x]=a.useState([]),[m,y]=a.useState(null),[h,u]=a.useState(!0),{getAccessTokenSilently:o,isAuthenticated:i,loginWithRedirect:N,user:G}=C(),v=async()=>{try{const t=await o(),s=await fetch(`${f}/resumes/all-resumes?t=${Date.now()}`,{headers:{Authorization:`Bearer ${t}`,"Content-Type":"application/json","Cache-Control":"no-cache"}}),r=await s.json();if(!s.ok)throw new Error(r.message||"Failed to fetch resumes");x(r.data||[])}catch(t){console.error(t),y(t.message)}finally{u(!1)}};a.useEffect(()=>{i?v():u(!1)},[i,o]);const k=async t=>{if(window.confirm("Are you sure you want to delete this resume?"))try{const s=await o(),r=await fetch(`${f}/resumes/resume/${t}`,{method:"DELETE",headers:{Authorization:`Bearer ${s}`}});if(r.ok)d.success("Resume deleted successfully"),x(n=>n.filter(A=>A._id!==t));else{const n=await r.json();d.error(n.message||"Failed to delete resume")}}catch(s){console.error("Error deleting resume:",s),d.error("An error occurred while deleting the resume")}},T=(t,s)=>{switch(t){case"modern":return e.jsx(w,{data:s});case"professional":return e.jsx(Y,{data:s});case"creative":return e.jsx(W,{data:s});case"minimalist":return e.jsx(O,{data:s});case"executive":return e.jsx(K,{data:s});case"simple":return e.jsx(q,{data:s});case"academic":return e.jsx(V,{data:s});case"tech":return e.jsx(U,{data:s});case"designer":return e.jsx(H,{data:s});case"compact":return e.jsx(z,{data:s});case"bold":return e.jsx(J,{data:s});case"corporate":return e.jsx(_,{data:s});case"elegant":return e.jsx(P,{data:s});case"startup":return e.jsx(D,{data:s});case"classic":return e.jsx($,{data:s});default:return e.jsx(w,{data:s})}};return!i&&!h?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-[#F8F9FA] px-4",children:e.jsxs("div",{className:"max-w-md w-full text-center p-10 bg-white rounded-[32px] shadow-xl border border-gray-100",children:[e.jsx("div",{className:"w-24 h-24 bg-blue-50 rounded-full flex items-center justify-center mx-auto mb-8 text-blue-600 text-4xl shadow-inner",children:e.jsx(p,{})}),e.jsx("h1",{className:"text-3xl font-extrabold text-[#091e42] mb-4 tracking-tight",children:"AI Resume Builder"}),e.jsx("p",{className:"text-gray-500 font-medium leading-relaxed mb-10",children:"Create job-winning resumes in 5 minutes with our premium AI-tuned templates."}),e.jsxs("button",{onClick:()=>N(),className:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-2xl transition-all shadow-lg shadow-blue-500/30 flex items-center justify-center gap-3",children:["Sign In to Start ",e.jsx(FaChevronRight,{className:"text-xs"})]}),e.jsx("p",{className:"mt-6 text-xs text-gray-400 font-bold uppercase tracking-widest",children:"Free for all Job Seekers"})]})}):e.jsxs("div",{className:"min-h-screen bg-[#F8F9FA] pb-12 pt-8",children:[e.jsxs(F,{children:[e.jsx("title",{children:"My Resumes | JobNirvana Resume Builder"}),e.jsx("meta",{name:"description",content:"Manage your professional resumes and CVs on JobNirvana. Create, edit, and download high-quality resume templates."})]}),e.jsx("div",{className:"max-w-[1240px] mx-auto px-4 mb-10 mt-12",children:e.jsxs("div",{className:"flex flex-col md:flex-row md:items-end justify-between gap-6 pb-8 border-b border-gray-200",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl md:text-5xl font-extrabold text-[#091e42] leading-tight",children:"My Resumes"}),e.jsx("p",{className:"text-gray-500 text-lg font-medium mt-2",children:"Manage your professional profiles and CVs"})]}),e.jsxs(l,{to:"/create-resume",className:"px-8 py-4 bg-[#091e42] hover:bg-black text-white font-bold rounded-2xl transition-all shadow-lg shadow-gray-200 flex items-center gap-3 whitespace-nowrap",children:[e.jsx(g,{})," Create New Resume"]})]})}),e.jsx("div",{className:"max-w-[1240px] mx-auto px-4",children:e.jsxs("div",{className:"lg:grid lg:grid-cols-12 gap-8 items-start",children:[e.jsxs("div",{className:"hidden lg:block lg:col-span-3 sticky top-24",children:[e.jsx(L,{}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-6 mt-6",children:[e.jsx("h4",{className:"text-[10px] font-extrabold text-blue-600 uppercase tracking-widest mb-4",children:"ATS Checklist"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"text-green-500 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Use a clean, single-column layout for better parsing."})]}),e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(b,{className:"text-green-500 mt-0.5 shrink-0"}),e.jsx("p",{className:"text-xs text-gray-500 font-medium",children:"Highlight your quantifiable achievements with metrics."})]}),e.jsxs("div",{className:"flex items-start gap-3 text-orange-400",children:[e.jsx(R,{className:"mt-0.5 shrink-0"}),e.jsx("p",{className:"text-xs text-gray-600 font-bold",children:"Try our Premium AI Templates for 2x more callbacks."})]})]})]})]}),e.jsx("div",{className:"col-span-12 lg:col-span-6 space-y-6",children:h?e.jsx("div",{className:"bg-white rounded-2xl p-8 shadow-sm",children:e.jsx(M,{})}):m?e.jsx("div",{className:"bg-red-50 border border-red-100 text-red-600 p-6 rounded-2xl font-bold",children:m}):c.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:c.map((t,s)=>e.jsxs(S.Fragment,{children:[e.jsxs(E.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:s*.05},className:"bg-white rounded-[24px] overflow-hidden border border-gray-100 shadow-sm hover:shadow-xl transition-all group flex flex-col",children:[e.jsxs("div",{className:"relative h-48 bg-gray-50 border-b border-gray-50 overflow-hidden",children:[e.jsx("div",{className:"absolute top-0 left-0 w-[600px] transform origin-top-left scale-[0.4] pointer-events-none opacity-40 group-hover:opacity-100 transition-opacity",children:T(t.template||"modern",t)}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/5 transition-colors"}),e.jsx("div",{className:"absolute top-4 right-4",children:e.jsx("span",{className:"px-3 py-1 bg-white/90 backdrop-blur rounded-full text-[10px] font-bold text-gray-600 shadow-sm border border-gray-100",children:t.template||"Modern"})})]}),e.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[e.jsx("h3",{className:"font-extrabold text-[#091e42] truncate text-lg group-hover:text-blue-600 transition-colors",children:t.wantedJobTitle||"Professional Resume"}),e.jsxs("p",{className:"text-xs text-gray-400 font-medium mt-1",children:["Last updated: ",new Date(t.lastModified||Date.now()).toLocaleDateString()]}),e.jsxs("div",{className:"flex items-center gap-2 mt-6 pt-4 border-t border-gray-50",children:[e.jsx(l,{to:`/resume/${t._id}`,className:"flex-1 py-2.5 bg-[#091e42] text-white rounded-xl text-xs font-bold text-center hover:bg-gray-800 transition-colors shadow-lg shadow-gray-200",children:"View"}),e.jsx(l,{to:`/create-resume?id=${t._id}`,className:"flex-1 py-2.5 bg-blue-50 text-blue-600 rounded-xl text-xs font-bold text-center hover:bg-blue-100 transition-colors",children:"Edit"}),e.jsx("button",{onClick:()=>k(t._id),className:"p-2.5 text-gray-400 hover:text-red-500 hover:bg-red-50 rounded-xl transition-colors border border-gray-50",children:e.jsx(I,{className:"text-xs"})})]})]})]}),(s+1)%4===0&&e.jsx("div",{className:"col-span-1 md:col-span-2 py-2",children:e.jsx(j,{})})]},t._id))}):e.jsxs("div",{className:"bg-white rounded-3xl p-16 text-center border-2 border-dashed border-gray-200",children:[e.jsx("div",{className:"w-20 h-20 bg-gray-50 rounded-full flex items-center justify-center mx-auto mb-6 text-gray-300 text-3xl",children:e.jsx(p,{})}),e.jsx("h3",{className:"text-xl font-bold text-[#091e42] mb-2",children:"No resumes found"}),e.jsx("p",{className:"text-gray-500 mb-8 max-w-xs mx-auto",children:"Build your professional profile and download ATS-friendly resumes for free."}),e.jsxs(l,{to:"/create-resume",className:"px-10 py-4 bg-blue-600 text-white font-bold rounded-2xl hover:bg-blue-700 transition-all shadow-lg shadow-blue-200 inline-flex items-center gap-3",children:[e.jsx(g,{})," Build Your First Resume"]})]})}),e.jsxs("div",{className:"hidden lg:block lg:col-span-3 space-y-6 sticky top-24",children:[e.jsxs("div",{className:"bg-[#091e42] text-white rounded-2xl p-8 relative overflow-hidden group shadow-xl",children:[e.jsx("div",{className:"absolute -top-10 -right-10 w-32 h-32 bg-white/5 rounded-full blur-3xl group-hover:scale-150 transition-transform duration-700"}),e.jsx("h3",{className:"text-lg font-bold mb-3",children:"Resume Score"}),e.jsx("p",{className:"text-blue-100/70 text-xs leading-relaxed mb-6",children:"Upload your resume and get an instant ATS-compatibility score and improvement tips."}),e.jsx("button",{className:"w-full py-4 bg-white text-[#091e42] font-bold rounded-xl text-xs hover:bg-blue-50 transition-all shadow-lg",children:"Analyze Resume"})]}),e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-2 overflow-hidden",children:[e.jsx("span",{className:"text-[10px] text-gray-300 uppercase block mb-2 text-center font-bold tracking-widest",children:"Advertisement"}),e.jsx(B,{})]}),e.jsx("div",{className:"bg-white rounded-2xl shadow-sm border border-gray-100 p-2 overflow-hidden",children:e.jsx(j,{})})]})]})})]})};export{ae as default};
