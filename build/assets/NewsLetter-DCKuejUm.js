import{r as n,j as e,L as g,A as x,m as h,o as b}from"./index-bdnYm6zW.js";import{a as p}from"./axios-DBFezj-0.js";import{Q as f,B as i}from"./react-toastify.esm-Bb8Jn5AM.js";/* empty css                      */import{I as y}from"./AdPopup-kzghAIMP.js";const j=()=>{const[l,a]=n.useState([]),[c,o]=n.useState(null),[d,m]=n.useState(!0);return n.useEffect(()=>{(async()=>{try{const r=await fetch(`${x}/blogs/all-blogs`);if(!r.ok)throw new Error("The server is currently busy. Please try again later.");const s=await r.json();a(s)}catch(r){o(r.message)}finally{m(!1)}})()},[]),c||l.length===0&&!d?null:e.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-100",children:[e.jsx("h3",{className:"font-bold text-gray-900 mb-4 text-sm uppercase tracking-wider",children:"Latest Articles"}),d?e.jsx("div",{className:"space-y-4",children:[...Array(3)].map((t,r)=>e.jsxs("div",{className:"flex gap-4 animate-pulse",children:[e.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg"}),e.jsxs("div",{className:"flex-1 space-y-2 py-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded w-3/4"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-1/2"})]})]},r))}):e.jsx("div",{className:"space-y-4",children:l.slice(0,3).map(t=>e.jsxs(g,{to:`/blog/${t.slug}`,className:"flex gap-3 group",children:[e.jsx("div",{className:"w-20 h-16 flex-shrink-0 rounded-lg overflow-hidden bg-gray-100 relative",children:e.jsx("img",{src:t.thumbnail||"/default-thumbnail.jpg",alt:t.title,className:"w-full h-full object-cover transform group-hover:scale-110 transition-transform duration-500"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{className:"text-sm font-bold text-gray-900 group-hover:text-blue-600 transition-colors line-clamp-2 leading-tight mb-1",children:t.title}),e.jsx("p",{className:"text-xs text-gray-400",children:new Date(t.createdAt||Date.now()).toLocaleDateString()})]})]},t._id))})]})},S=()=>{const[l,a]=n.useState(""),[c,o]=n.useState(!1),d=s=>/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(String(s).toLowerCase())&&s.length<=320,m=s=>{const u=s.target.value;a(u),o(d(u))},t=async()=>{if(!c){i.error("Please enter a valid email address.");return}try{const s=await p.post(`${x}/subscriptions/subscribe`,{email:l});i.success(s.data.message),a(""),o(!1)}catch(s){i.error(s.response.data.message||"An error occurred."),a(""),o(!1)}},r=async()=>{if(!c){i.error("Please enter a valid email address.");return}try{const s=await p.post(`${x}/subscriptions/unsubscribe`,{email:l});i.success(s.data.message),a(""),o(!1)}catch(s){i.error(s.response.data.message||"An error occurred."),a(""),o(!1)}};return e.jsxs("div",{children:[e.jsxs(h.div,{initial:{opacity:0,x:50},animate:{opacity:1,x:0},transition:{duration:.5},children:[e.jsxs("h3",{className:"text-lg font-bold mb-3 flex items-center gap-2 text-gray-900",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-blue-100 text-blue-600 flex items-center justify-center",children:e.jsx(b,{})}),"Email me for jobs"]}),e.jsx("p",{className:"text-gray-500 text-sm mb-6 leading-relaxed",children:"Subscribe for fresh job opportunities and career tips delivered to your inbox!"}),e.jsxs("div",{className:"w-full space-y-3",children:[e.jsx("input",{type:"email",name:"email",id:"email",value:l,onChange:m,placeholder:"name@example.com",className:"w-full block py-3 px-4 rounded-xl border border-gray-200 focus:outline-none focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 transition-all text-sm"}),e.jsx("input",{type:"submit",value:"Subscribe Now",className:"w-full bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white font-bold py-3 px-4 rounded-xl transition duration-300 shadow-md cursor-pointer text-sm",onClick:t}),c&&e.jsx("input",{type:"submit",value:"Unsubscribe",className:"w-full block py-2.5 px-4 border border-red-100 bg-red-50 text-red-600 rounded-xl font-semibold cursor-pointer hover:bg-red-100 transition-colors text-sm",onClick:r})]})]}),e.jsx(f,{position:"bottom-right",theme:"light"}),e.jsx(j,{}),e.jsxs("div",{className:"mt-8 sticky top-4",children:[e.jsx("div",{className:"text-xs text-center text-gray-400 mb-2",children:"Advertisement"}),e.jsx(y,{})]})]})};export{S as N};
