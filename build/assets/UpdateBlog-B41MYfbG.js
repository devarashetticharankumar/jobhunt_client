import{e as T,r as s,j as e,H as U,m as i,A as k}from"./index-bdnYm6zW.js";import{Q as q,B as c}from"./react-toastify.esm-Bb8Jn5AM.js";import{R as E}from"./index-B2gCinln.js";/* empty css                      */const R={toolbar:[[{header:[1,2,3,4,5,6,!1]}],[{font:[]}],[{size:[]}],["bold","italic","underline","strike"],[{color:[]},{background:[]}],[{script:"sub"},{script:"super"}],[{list:"ordered"},{list:"bullet"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{align:[]}],["link","image","video"],["blockquote","code-block"],["clean"]]},A=["font","size","bold","italic","underline","strike","color","background","header","list","bullet","indent","align","direction","link","image","video","blockquote","code-block","script"],H=()=>{const{slug:r}=T(),[d,u]=s.useState(""),[g,m]=s.useState(""),[p,l]=s.useState(""),[x,b]=s.useState(""),[h,f]=s.useState(""),[y,j]=s.useState([]),[v,N]=s.useState(""),[C,n]=s.useState(!0);s.useEffect(()=>{(async()=>{try{const o=await fetch(`${k}/blogs/blog/${r}`),t=await o.json();o.ok?(u(t.title),m(t.content),b(t.thumbnail||""),f(t.category||""),j(t.tags||[]),N(t.author||""),n(!1)):(l(t.message||"Blog not found"),n(!1))}catch{l("Error fetching blog"),n(!1)}})()},[r]);const B=a=>{const o=a.target.value.split(",").map(t=>t.trim());j(o)},S=async a=>{a.preventDefault();const o={title:d,content:g,category:h,author:v,tags:y,thumbnail:x};try{const t=await fetch(`${k}/blogs/update-blog/${r}`,{method:"PATCH",headers:{"Content-Type":"application/json"},body:JSON.stringify(o)}),w=await t.json();t.ok?(l("Blog updated successfully!"),c.success("Blog updated successfully!")):(l(w.message||"Failed to update blog"),c.error(w.message||"Failed to update blog"))}catch{l("Error updating blog"),c.error("Error updating blog")}};return C?e.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:e.jsx("div",{className:"w-16 h-16 border-4 border-teal-500 border-t-transparent rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gray-50 pb-12 pt-0 mx-auto",children:[e.jsxs(U,{children:[e.jsx("title",{children:"Update Blog - JobNirvana"}),e.jsx("meta",{name:"description",content:"Update your blog post and keep your content fresh."}),e.jsx("link",{rel:"canonical",href:"https://jobnirvana.netlify.app/update-blog"})]}),e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-emerald-600 py-16 px-4 mb-10",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx(i.h1,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-3xl md:text-5xl font-extrabold text-white mb-4",children:"Update Article"}),e.jsx(i.p,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.2},className:"text-teal-100 text-lg max-w-2xl mx-auto",children:"Refine your content and keep your audience engaged."})]})}),e.jsxs(i.div,{className:"max-w-5xl mx-auto px-4 sm:px-6 lg:px-8 -mt-20",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},children:[e.jsx(q,{position:"top-right",autoClose:3e3}),e.jsx("div",{className:"bg-white rounded-3xl shadow-xl overflow-hidden border border-gray-100",children:e.jsxs("div",{className:"p-8 md:p-12",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-8 border-b pb-4 border-gray-100",children:"Edit Blog Details"}),e.jsxs("form",{onSubmit:S,className:"space-y-8",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Blog Title"}),e.jsx("input",{type:"text",value:d,onChange:a=>u(a.target.value),required:!0,placeholder:"e.g. The Future of Web Development",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all outline-none bg-gray-50 focus:bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Author Name"}),e.jsx("input",{type:"text",value:v,onChange:a=>N(a.target.value),required:!0,placeholder:"e.g. John Doe",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all outline-none bg-gray-50 focus:bg-white"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Category"}),e.jsx("input",{type:"text",value:h,onChange:a=>f(a.target.value),required:!0,placeholder:"e.g. Technology",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all outline-none bg-gray-50 focus:bg-white"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Thumbnail URL"}),e.jsx("input",{type:"url",value:x,onChange:a=>b(a.target.value),required:!0,placeholder:"https://example.com/image.jpg",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all outline-none bg-gray-50 focus:bg-white"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Blog Content"}),e.jsx("div",{className:"bg-gray-50 rounded-xl overflow-hidden border border-gray-200 focus-within:border-teal-500 focus-within:ring-4 focus-within:ring-teal-500/10 transition-all",children:e.jsx(E,{value:g,onChange:m,modules:R,formats:A,className:"h-64 mb-12 border-none",placeholder:"Update your article here...",theme:"snow",required:!0})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-semibold text-gray-700 block",children:"Tags (comma separated)"}),e.jsx("input",{type:"text",value:y.join(", "),onChange:B,placeholder:"e.g. React, JavaScript, Career",className:"w-full px-4 py-3 rounded-xl border border-gray-200 focus:border-teal-500 focus:ring-4 focus:ring-teal-500/10 transition-all outline-none bg-gray-50 focus:bg-white"})]}),e.jsx("div",{className:"pt-8",children:e.jsx("button",{type:"submit",className:"w-full py-4 bg-gradient-to-r from-teal-600 to-emerald-600 hover:from-teal-700 hover:to-emerald-700 text-white font-bold text-lg rounded-xl shadow-lg shadow-teal-500/30 transform hover:-translate-y-0.5 transition-all duration-200",children:"Update Blog"})})]}),p&&e.jsx("p",{className:"mt-4 text-center text-gray-600",children:p})]})})]})]})};export{H as default};
